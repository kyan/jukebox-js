(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{135:function(e,t,n){e.exports=n.p+"static/media/default-artwork.6bba9800.png"},292:function(e,t){e.exports={transformUrl:function(e){var t=e.replace(/^.*\/track\//,"spotify:track:");return t.match(/spotify:track/g)?t:null}}},330:function(e,t,n){e.exports=n(605)},377:function(e,t){},517:function(e,t,n){},518:function(e,t,n){},535:function(e,t,n){},582:function(e,t,n){},603:function(e,t,n){},604:function(e,t,n){},605:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"updateToken",(function(){return F})),n.d(a,"clearToken",(function(){return J})),n.d(a,"addNewTrack",(function(){return H})),n.d(a,"addCurrentTrack",(function(){return Q})),n.d(a,"addTrackList",(function(){return W})),n.d(a,"removeFromTracklist",(function(){return X})),n.d(a,"updateProgressTimer",(function(){return Z})),n.d(a,"wsConnect",(function(){return $})),n.d(a,"wsConnecting",(function(){return ee})),n.d(a,"wsConnected",(function(){return te})),n.d(a,"wsDisconnect",(function(){return ne})),n.d(a,"wsDisconnected",(function(){return ae})),n.d(a,"mopidyConnected",(function(){return re})),n.d(a,"mopidyDisconnected",(function(){return ce})),n.d(a,"getCurrentTrack",(function(){return ie})),n.d(a,"getTimePosition",(function(){return oe})),n.d(a,"getState",(function(){return ue})),n.d(a,"getImage",(function(){return le})),n.d(a,"newImage",(function(){return se})),n.d(a,"resolveImage",(function(){return me})),n.d(a,"getTrackList",(function(){return de})),n.d(a,"clearTrackList",(function(){return fe})),n.d(a,"startPlaying",(function(){return pe})),n.d(a,"stopPlaying",(function(){return Ee})),n.d(a,"pausePlaying",(function(){return be})),n.d(a,"nextPlaying",(function(){return ye})),n.d(a,"previousPlaying",(function(){return ge})),n.d(a,"getVolume",(function(){return ke})),n.d(a,"updateVolume",(function(){return he})),n.d(a,"updatePlaybackState",(function(){return ve})),n.d(a,"setVolume",(function(){return Oe}));var r=n(0),c=n.n(r),i=n(35),o=n.n(i),u=n(28),l=n(40),s=n(94),m=n.n(s),d=n(290),f=n(71),p=n(72),E=n(80),b=n(73),y=n(81),g=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(E.a)(this,Object(b.a)(t).call(this,e))).state={hasError:!1},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("h1",null,"Ouch! I broke a bit."):this.props.children}}]),t}(c.a.Component),k=c.a.createContext(),h=n(291),v=n.n(h),O="mopidy::playback.getCurrentTrack",C="mopidy::event:trackPlaybackStarted",N="mopidy::event:playbackStateChanged",T="mopidy::tracklist.getTracks",S="mopidy::tracklist.add",D="mopidy::tracklist.remove",P="mopidy::tracklist.clear",j="mopidy::library.getImages",_="mopidy::playback.getTimePosition",w="mopidy::playback.getState",A="mopidy::playback.play",R="mopidy::playback.stop",I="mopidy::playback.pause",x="mopidy::playback.next",M="mopidy::playback.previous",U="playing",L="paused",V="stopped",K="mopidy::mixer.setVolume",B="mopidy::mixer.getVolume",G="mopidy::event:volumeChanged",Y="mopidy::validationError",q={ADD_CURRENT_TRACK:"actionAddCurrentTrack",ADD_TRACKS:"actionAddTracks",CONNECT:"actionConnect",CONNECTING:"actionConnecting",CONNECTED:"actionConnected",DISCONNECT:"actionDisconnect",DISCONNECTED:"actionDisconnected",DROP_TYPES:["__NATIVE_URL__"],NEW_IMAGE:"actionNewImage",RESOLVE_IMAGE:"actionResolveImage",SEND:"actionSend",STORE_TOKEN:"actionStoreToken",CLEAR_STORE_TOKEN:"actionClearStoreToken",UPDATE_VOLUME:"actionUpdateVolume",UPDATE_PLAYBACK_STATE:"actionPlaybackState",UPDATE_PROGRESS_TIMER:"actionUpdateProgressTimer",MOPIDY_CONNECTED:"actionMopidyConnected",MOPIDY_DISCONNECTED:"actionMopidyDisconnected"},z=n(292),F=function(e){return{type:q.STORE_TOKEN,token:e}},J=function(){return{type:q.CLEAR_STORE_TOKEN}},H=function(e){var t=Object(z.transformUrl)(e);return{type:q.SEND,key:S,params:{uri:t}}},Q=function(e){return{type:q.ADD_CURRENT_TRACK,track:e}},W=function(e){return{type:q.ADD_TRACKS,list:e}},X=function(e){return{type:q.SEND,key:D,params:{uri:[e]}}},Z=function(e,t){return t===1/0&&(t=0),{type:q.UPDATE_PROGRESS_TIMER,position:e,duration:t}},$=function(){return{type:q.CONNECT}},ee=function(){return{type:q.CONNECTING}},te=function(){return{type:q.CONNECTED}},ne=function(){return{type:q.DISCONNECT}},ae=function(){return{type:q.DISCONNECTED}},re=function(){return{type:q.MOPIDY_CONNECTED}},ce=function(){return{type:q.MOPIDY_DISCONNECTED}},ie=function(){return{type:q.SEND,key:O}},oe=function(){return{type:q.SEND,key:_}},ue=function(){return{type:q.SEND,key:w}},le=function(e){return{type:q.SEND,key:j,params:[[e]],uri:e}},se=function(e){return{type:q.NEW_IMAGE,uri:e}},me=function(e){return{type:q.RESOLVE_IMAGE,data:e}},de=function(){return{type:q.SEND,key:T}},fe=function(){return{type:q.SEND,key:P}},pe=function(){return{type:q.SEND,key:A}},Ee=function(){return{type:q.SEND,key:R}},be=function(){return{type:q.SEND,key:I}},ye=function(){return{type:q.SEND,key:x}},ge=function(){return{type:q.SEND,key:M}},ke=function(){return{type:q.SEND,key:B}},he=function(e){return{type:q.UPDATE_VOLUME,volume:e}},ve=function(e){return{type:q.UPDATE_PLAYBACK_STATE,state:e}},Oe=function(e){return{type:q.SEND,key:K,params:[Number(e)]}},Ce="actionTrackSearch",Ne="search::getTracks",Te="actionStoreSearchResults",Se="actionStoreSearchQuery",De="actionToggleSearchSidebar",Pe="actionRemoveFromSearchResults",je=function(e,t){var n=t.findIndex((function(t){return t.ref===e}));return t[n]?t[n].uri:null},_e=n(293),we=n.n(_e),Ae=function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n},Re=function(e){return.001*e},Ie=function(e){if(0===e.duration)return 0;var t=Re(e.position),n=Re(e.duration),a=Math.round(t/n*100);return isNaN(a)?0:a},xe=function(e){return{type:De,open:e}},Me="auth::authenticationTokenInvalid",Ue={encode:function(e,t,n){return{jwt:e,key:t,data:n}},decode:function(e){return JSON.parse(e)},encodeToJson:function(e,t,n){return JSON.stringify(Ue.encode(e,t,n))}},Le=Ue,Ve={success:function(e){return s.notify.show(e,"success",3e3,{})},warning:function(e){return s.notify.show(e,"warning",3e3,{})}},Ke=function(e,t){e.dispatch(ve(t))},Be=function(e){return e.composer?e.composer.uri:e.album.uri},Ge=function(e,t,n){var a=Le.decode(t),r=a.key,c=a.data;switch(r){case Me:console.log("AUTHENTICATION_TOKEN_INVALID: ".concat(c.error)),e.dispatch(J());break;case O:case C:c&&c.track&&function(e,t,n){t.dispatch(Q(e)),t.dispatch(le(Be(e)));var a=n.set(0,e.length);t.getState().jukebox.playbackState===U&&a.start()}(c.track,e,n);break;case N:case w:!function(e,t,n){switch(t){case L:case V:Ke(e,t),n.stop(),Ve.success("Jukebox Halted");break;case U:Ke(e,t),n.start()}}(e,c,n);break;case T:!function(e,t){t.dispatch(W(e)),e.forEach((function(e){t.dispatch(le(Be(e.track)))}))}(c,e);break;case S:var i=c.track;Ve.success("Adding: ".concat(i.name," / ").concat(i.album.name," by ").concat(i.artist.name));break;case x:case M:e.dispatch(ie());break;case B:e.dispatch(he(c));break;case G:e.dispatch(he(c)),Ve.success("Volume Changed");break;case j:e.dispatch(me(c));break;case _:n.set(c);break;case Ne:e.dispatch({type:Te,results:c});break;case Y:Ve.warning(c);break;default:console.log("Unknown message: ".concat(r," body: ").concat(c))}},Ye={loadInitial:function(e){["getCurrentTrack","getTimePosition","getState","getTrackList","getVolume"].forEach((function(t){e.dispatch(a[t]())}))}},qe=function(){var e="http://".concat("jukebox-api-prod.local",":").concat("8080"),t=null,n=null;return function(r){return function(c){return function(i){var o=function(){return i.key===j},u=function(){return Le.encodeToJson(r.getState().settings.token,i.key,i.params)},l=function(e){if(JSON.parse(e).online)return r.dispatch(re()),Ye.loadInitial(r);r.dispatch(ce())},s=function(e){n=function(e,t){return we()({callback:function(n,a){e.dispatch(t.updateProgressTimer(n,a))},fallbackTargetFrameRate:1,disableRequestAnimationFrame:!0})}(r,a),r.dispatch(te())},m=function(e){return r.dispatch(ne())},d=function(e){return Ge(r,e,n)},f=function(e){return Ge(r,e,n)};switch(i.type){case q.CONNECT:return null!=t&&t.close(),(t=v()(e,{transports:["websocket"]})).on("search",f),t.on("mopidy",l),t.on("message",d),t.on("connect",s),t.on("disconnect",m),void r.dispatch(ee());case q.DISCONNECT:return n&&n.reset(),void r.dispatch(ae());case q.SEND:if(o()&&je(i.uri,r.getState().assets))return;return o()&&r.dispatch(se(i.uri)),t.emit("message",u());case Ce:return t.emit("search",u());default:return c(i)}}}}}(),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.ADD_CURRENT_TRACK:return t.track;default:return e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.ADD_TRACKS:return t.list.map((function(e){return e.track}));default:return e}},Je=n(130),He=n(320);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(Je.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=[],Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.NEW_IMAGE:return e.find((function(e){return t.uri&&e.ref===t.uri}))?e:[].concat(Object(He.a)(e),[{ref:t.uri}]);case q.RESOLVE_IMAGE:return e.map((function(e){return t.data[e.ref]&&t.data[e.ref][0]?We({},e,{uri:t.data[e.ref][0].uri}):e})).slice(0,200);default:return e}},$e={position:0,duration:0,remaining:0},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.UPDATE_PROGRESS_TIMER:return{position:t.position,duration:t.duration,remaining:t.duration-t.position};default:return e}},tt={online:!1,mopidyOnline:!1,volume:0,playbackState:V},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.CONNECTED:return Object.assign({},e,{online:!0});case q.DISCONNECTED:return Object.assign({},e,{online:!1});case q.MOPIDY_CONNECTED:return Object.assign({},e,{mopidyOnline:!0});case q.MOPIDY_DISCONNECTED:return Object.assign({},e,{mopidyOnline:!1});case q.UPDATE_VOLUME:return Object.assign({},e,{volume:t.volume});case q.UPDATE_PLAYBACK_STATE:return Object.assign({},e,{playbackState:t.state});default:return e}},at={token:null},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.STORE_TOKEN:return t.token===e.token?e:Object.assign({},e,{token:t.token});case q.CLEAR_STORE_TOKEN:return Object.assign({},e,{token:null});default:return e}};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(n,!0).forEach((function(t){Object(Je.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot={searchSideBarOpen:!1,query:"",limit:20,offset:0,total:0,results:[]},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return it({},e,{results:e.results.filter((function(e){return e.track.uri!==t.uri}))});case De:return Object.assign({},e,{searchSideBarOpen:t.open});case Se:return Object.assign({},e,{query:t.query});case Te:var n=t.results.tracks;return Object.assign({},e,{limit:n.limit,offset:n.offset,total:n.total>1e4?1e4:n.total,results:n.items});default:return e}},lt=Object(l.combineReducers)({track:ze,tracklist:Fe,assets:Ze,timer:et,jukebox:nt,settings:rt,search:ut}),st=n(619),mt=n(74),dt=n(131),ft=n.n(dt),pt=n(189),Et={refresh:function(e,t){return pt.b((function(){e.reloadAuthResponse().then((function(e){return t(e.id_token)}),(function(e){return console.warn("Token un-refreshable: ",e.message)}))}),27e5)},clear:function(e){e&&pt.a(e)}},bt=n(183),yt=function(e){return e.assets},gt=Object(bt.a)([function(e){return e.track},yt],(function(e,t){return e?je(e.album.uri,t):null})),kt=Object(bt.a)([function(e){return e.tracklist},yt],(function(e,t){var n={};return e.forEach((function(e){n[e.album.uri]=je(e.album.uri,t)})),n})),ht=n(630),vt=n(618),Ot=n(631),Ct=n(629),Nt=n(628),Tt=n(48),St=function(e){var t=e.disabled,n=e.onPrevious,a=e.onNext;return c.a.createElement("span",null,function(e,t){return c.a.createElement(Nt.a,{onClick:e,animated:"vertical",className:"jb-previous-button",disabled:t},c.a.createElement(Nt.a.Content,{hidden:!0},"Prev"),c.a.createElement(Nt.a.Content,{visible:!0},c.a.createElement(Tt.a,{name:"step backward"})))}(n,t),function(e,t){return c.a.createElement(Nt.a,{onClick:e,animated:"vertical",className:"jb-next-button",disabled:t},c.a.createElement(Nt.a.Content,{hidden:!0},"Next"),c.a.createElement(Nt.a.Content,{visible:!0},c.a.createElement(Tt.a,{name:"step forward"})))}(a,t))},Dt=function(e){var t=e.disabled,n=e.playbackState,a=e.onPlay,r=e.onPause,i=e.onStop,o=e.onPrevious,u=e.onNext;return c.a.createElement("span",null,c.a.createElement(St,{disabled:t,onPrevious:o,onNext:u}),function(e,t,n){return c.a.createElement(Nt.a,{onClick:e,animated:"vertical",disabled:t===U||n,active:t===U,className:"jb-play-button"},c.a.createElement(Nt.a.Content,{hidden:!0},"Play"),c.a.createElement(Nt.a.Content,{visible:!0},c.a.createElement(Tt.a,{name:"play"})))}(a,n,t),function(e,t,n){return c.a.createElement(Nt.a,{onClick:e,animated:"vertical",disabled:t===L||t===V||n,active:t===L,className:"jb-pause-button"},c.a.createElement(Nt.a.Content,{hidden:!0},"Pause"),c.a.createElement(Nt.a.Content,{visible:!0},c.a.createElement(Tt.a,{name:"pause"})))}(r,n,t),function(e,t,n){return c.a.createElement(Nt.a,{onClick:e,animated:"vertical",disabled:t===V||n,active:t===V,className:"jb-stop-button"},c.a.createElement(Nt.a.Content,{hidden:!0},"Stop"),c.a.createElement(Nt.a.Content,{visible:!0},c.a.createElement(Tt.a,{name:"stop"})))}(i,n,t))},Pt=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return(0,this.props.connectDropTarget)(c.a.createElement("div",{title:"Drag in Spotify tracks to add to playlist"},this.props.children))}}]),t}(r.Component),jt=Object(mt.DropTarget)((function(e){return e.accepts}),{drop:function(e,t){e.onDrop&&e.onDrop(e,t)}},(function(e,t){return{connectDropTarget:e.dropTarget()}}))(Pt),_t=function(e){var t=e.disabled,n=e.onDrop,a=e.children;return t?a:c.a.createElement(mt.DragDropContextProvider,{backend:ft.a},c.a.createElement(jt,{accepts:q.DROP_TYPES,onDrop:n},a))},wt=n(626),At=n(321),Rt=n(319),It=n(135),xt=n.n(It),Mt=(n(517),function(e){return e||(e=xt.a),c.a.createElement(At.a,{src:e})}),Ut=function(e){var t,n=e.track,a=e.image,r=e.progress,i=e.remaining;return n?c.a.createElement(wt.a,null,Mt(a),c.a.createElement(wt.a.Content,null,c.a.createElement("div",{className:"progress-container"},c.a.createElement("span",{className:"remaining-text"},Ae(i)),c.a.createElement("span",{className:"track-length"},Ae(n.length)),c.a.createElement(Rt.a,{percent:r})),c.a.createElement(wt.a.Header,null,n.name),c.a.createElement(wt.a.Meta,null,n.artist.name),function(e){if(!e)return null;var t=e.year?" (".concat(e.year,")"):null;return c.a.createElement(wt.a.Description,null,e.name,t)}(n.album),(t=n.composer)?c.a.createElement(wt.a.Description,null,t.name):null),c.a.createElement(wt.a.Content,{extra:!0},function(e){var t={spotify:"green"},n=e.split(":")[0];return t[n]?c.a.createElement(Tt.a,{name:n,color:t[n]}):null}(n.uri))):c.a.createElement(wt.a,null,Mt(null),c.a.createElement(wt.a.Content,null,c.a.createElement(wt.a.Header,null,"Nothing playing"),c.a.createElement(wt.a.Description,null,"Drag some music here or press play.")))},Lt=Object(u.b)((function(e){return{track:e.track,image:gt(e),progress:Ie(e.timer),remaining:e.timer.remaining}}))((function(e){var t=e.track,n=e.image,a=e.progress,r=e.remaining;return c.a.createElement(Ut,{track:t,image:n,progress:a,remaining:r})})),Vt=(n(518),function(){var e=Object(r.useContext)(k),t=e.googleUser,n=e.signIn,a=e.signOut,i=c.a.createElement(Nt.a,{icon:"power off",floated:"right",onClick:function(){return n()},className:"jb-settings-toggle",title:"Login using Google"});return t&&t.profileObj&&(i=c.a.createElement(At.a,{rounded:!0,size:"mini",floated:"right",title:t.profileObj.name,src:t.profileObj.imageUrl,onClick:function(){return a()}})),c.a.createElement(c.a.Fragment,null,i)}),Kt=n(5),Bt=n.n(Kt),Gt=n(624),Yt=n(623),qt=n(185),zt=n.n(qt),Ft=function(e,t){return t.length?c.a.createElement(Gt.a,null,t.map((function(e){return c.a.createElement(Gt.a.Item,{key:e.addedAt},Jt(e),c.a.createElement(Gt.a.Content,null,c.a.createElement(Gt.a.Description,null,c.a.createElement("strong",null,zt()(e.addedAt,"dd mmm yyyy @ h:MM tt"))," - ",e.fullname)))}))):function(e){return e?c.a.createElement("strong",null,"Added: ",zt()(e.addedAt,"dd mmm yyyy @ h:MM tt")):"First time played."}(e)},Jt=function(e){return e&&e.picture?c.a.createElement(At.a,{avatar:!0,className:"tracklist_avatar_image",src:e.picture}):c.a.createElement(Tt.a,{name:"spotify",color:"green"})},Ht=function(e){var t=e.users,n=void 0===t?[]:t,a=n[0],r=n.slice(0,-1);return c.a.createElement(Yt.a,{wide:!0,content:Ft(a,r),trigger:Jt(a)})},Qt=(n(535),function(e,t,n,a,r,i){var o,u,l;return n&&t.album&&(o=n[t.album.uri]),n&&t.composer&&(o=n[t.composer.uri]),o||(o=xt.a),function(e){var t,n,a=e.image,r=e.isCurrent,i=e.onClick,o=e.hasBeenPlayed;return r&&(t="current-image"),i&&!r&&(n="Click to remove from playlist",t="remove-image"),c.a.createElement(At.a,{className:t,size:o?"tiny":"mini",src:a,title:n,onClick:i,inline:!0})}({image:o,hasBeenPlayed:i,isCurrent:a,onClick:e||a?void 0:(u=t.uri,l=r,function(){return l(u)})})}),Wt=function(e,t,n,a,r){var i;return t.map((function(t,o){var u=function(e,t){return!!e&&e.uri===t.uri}(a,t);i&&(i+=t.length),u&&(i=Date.now());var l=t.addedBy;return c.a.createElement(Gt.a.Item,{className:Bt()({"current-track":u}),key:"".concat(o,"-").concat(t.uri)},Qt(e,t,n,u,r,i),c.a.createElement(Gt.a.Content,{className:Bt()({"track-info":!i})},function(e){return c.a.createElement(Gt.a.Header,{as:"h4"},e.name)}(t),function(e){return c.a.createElement(Gt.a.Description,null,e.artist.name," ",c.a.createElement("small",null,"(",Ae(e.length),")"))}(t),c.a.createElement(Ht,{users:l})))}))},Xt=function(e){var t=e.disabled,n=e.tracks,a=e.images,r=e.currentTrack,i=e.onRemoveTrack;return n?c.a.createElement(Gt.a,{relaxed:!0},Wt(t,n,a,r,i)):null},Zt=function(e){var t=e.onClick,n=e.disabled;return c.a.createElement(Nt.a,{animated:"vertical",floated:"right",onClick:t,disabled:n},c.a.createElement(Nt.a.Content,{hidden:!0},"Search"),c.a.createElement(Nt.a.Content,{visible:!0},c.a.createElement(Tt.a,{name:"search"})))},$t=function(e,t){if((e+=1)<=100)return function(){t(e)}},en=function(e,t){if((e-=1)>=0)return function(){t(e)}},tn=function(e){var t=e.disabled,n=e.volume,a=e.onVolumeChange;return c.a.createElement(Nt.a.Group,{floated:"right"},c.a.createElement(Nt.a,{className:"jb-volume-down",onClick:en(n,a),disabled:t},c.a.createElement(Tt.a,{name:"volume down"})),c.a.createElement(Nt.a.Or,{text:n}),c.a.createElement(Nt.a,{className:"jb-volume-up",onClick:$t(n,a),disabled:t},c.a.createElement(Tt.a,{name:"volume up"})))},nn=n(138),an=n(621),rn=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},n.clearButton=function(){return c.a.createElement(nn.a,{horizontal:!0,size:"mini",as:"a",color:"red",onClick:n.show,className:"jb-clear-button"},"CLEAR")},n.show=function(){n.setState({open:!0})},n.handleConfirm=function(e){n.setState({open:!1}),n.props.onClear(e)},n.handleCancel=function(){n.setState({open:!1})},n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.disabled?null:c.a.createElement("span",null,this.clearButton(),c.a.createElement(an.a,{content:"Are you sure you want to nuke the playlist?",cancelButton:"No thanks",confirmButton:"Do it!",open:this.state.open,onCancel:this.handleCancel,onConfirm:this.handleConfirm}))}}]),t}(r.Component),cn=n(632),on=n(620),un=n(625),ln=(n(582),function(e){var t=e.visible,n=e.onClose,a=e.results,i=e.onSubmit,o=e.onQueryChange,u=e.onAddTrack,l=e.totalPages,s=e.onPageChange,m=Object(r.useRef)(null);return c.a.createElement(cn.a.Pushable,null,c.a.createElement(cn.a,{animation:"overlay",icon:"labeled",inverted:"true",vertical:"true",visible:t,width:"very wide",direction:"right",className:"sidebar-search",onShow:function(){return m.current.focus()}},c.a.createElement(on.a,{inverted:!0,onSubmit:i},c.a.createElement(on.a.Field,null,c.a.createElement("label",{required:!0},"SEARCH"),c.a.createElement("input",{ref:m,placeholder:"track, artist or album",onChange:o})),c.a.createElement(Nt.a,{type:"submit",fluid:!0},"Submit")),c.a.createElement(vt.a,{horizontal:!0},c.a.createElement(Ct.a,{as:"h4",inverted:!0},"Results")),l>0&&c.a.createElement(un.a,{className:"search-list-pagination",defaultActivePage:1,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:l,onPageChange:s}),c.a.createElement(Gt.a,{divided:!0,relaxed:!0,inverted:!0,size:"tiny"},c.a.createElement((function(){return a.map((function(e){return c.a.createElement("div",{className:"search-list-item",key:e.track.uri,onClick:(t=e.track.uri,function(){u(t)})},c.a.createElement(At.a,{floated:"left",src:e.track.image,size:"mini",title:"Click to add - ".concat(e.track.name," - ").concat(e.track.artist.name),className:"search-list-item__image"}),c.a.createElement(Gt.a.Content,null,c.a.createElement("div",{className:"search-list-item__header"},e.track.name," - ",e.track.artist.name),c.a.createElement("div",{className:"search-list-item__content"},e.track.album.name)));var t}))}),null))),c.a.createElement(cn.a.Pusher,{dimmed:t,onClick:t?n:null},e.children))}),sn=function(e){var t=Object(u.d)((function(e){return e.search})),n=Object(u.c)(),a=function(e){n(function(e){return{type:Pe,uri:e}}(e)),n(H(e))},r=function(e){var a,r={offset:(e.activePage-1)*t.limit,limit:t.limit};n((a=t.query,{type:Ce,key:Ne,params:{query:a,options:r}}))};return c.a.createElement(ln,{visible:t.searchSideBarOpen,onClose:function(){return n(xe(!1))},onSubmit:function(){return r({activePage:1})},onAddTrack:function(e){return a(e)},onQueryChange:function(e){return n((t=e.target.value,{type:Se,query:t}));var t},onPageChange:function(e,t){return r(t)},results:t.results,totalPages:Math.round(t.total/t.limit)},e.children)},mn=(n(603),function(e){var t=e.online,n=e.disabled,a=e.volume,r=e.playbackState,i=e.onPlay,o=e.onStop,u=e.onPause,l=e.onNext,s=e.onPrevious,m=e.onVolumeChange,d=e.onDrop,f=e.onTracklistClear,p=e.onSearchClick,E=e.trackListImages,b=e.tracklist,y=e.currentTrack,g=e.onRemoveTrack;return c.a.createElement(ht.a.Dimmable,{blurring:!0,dimmed:!t},c.a.createElement(sn,null,c.a.createElement(st.a,{className:"header-wrapper",fluid:!0},c.a.createElement(Vt,null),c.a.createElement(tn,{disabled:n,volume:a,onVolumeChange:m}),c.a.createElement(Zt,{onClick:p,disabled:n}),c.a.createElement(Dt,{disabled:n,playbackState:r,onPlay:i,onStop:o,onPause:u,onNext:l,onPrevious:s})),c.a.createElement(vt.a,null),c.a.createElement(st.a,{className:"body-wrapper",fluid:!0},c.a.createElement(Ot.a,{stackable:!0,columns:2,className:"dashboard-grid"},c.a.createElement(Ot.a.Column,{width:4},c.a.createElement(_t,{disabled:n,onDrop:d},c.a.createElement(Ct.a,{size:"small"},"Current Track"),c.a.createElement(Lt,null))),c.a.createElement(Ot.a.Column,{width:8},c.a.createElement(Ct.a,{size:"small"},"Playlist ",c.a.createElement(rn,{disabled:n,onClear:f})),c.a.createElement(Xt,{disabled:n,images:E,tracks:b,currentTrack:y,onRemoveTrack:g}))))))}),dn=Object(mt.DragDropContext)(ft.a)((function(){var e=Object(u.d)((function(e){return e.jukebox})),t=Object(u.d)((function(e){return e.tracklist})),n=Object(u.d)((function(e){return e.track})),a=Object(u.d)((function(e){return kt(e)})),i=Object(u.c)(),o=Object(r.useContext)(k),l=o.isSignedIn,s=o.googleUser,m=!(l&&e.mopidyOnline),d=Object(r.useRef)(),f=Object(r.useRef)();return Object(r.useEffect)((function(){return i($()),function(){i(ne())}}),[i]),l&&s.Zi.id_token!==d.current&&(d.current=s.Zi.id_token,f.current=Et.refresh(s,(function(e){i(F(e))})),i(F(d.current))),l||(d.current=void 0,Et.clear(f.current),i(J())),c.a.createElement(mn,{online:e.online,disabled:m,volume:e.volume,playbackState:e.playbackState,onPlay:function(){return i(pe())},onStop:function(){return i(Ee())},onPause:function(){return i(be())},onNext:function(){return i(ye())},onPrevious:function(){return i(ge())},onVolumeChange:function(e){return i(Oe(e))},onDrop:function(e,t){t&&i(H(t.getItem().urls[0]))},onTracklistClear:function(){return i(fe())},onSearchClick:function(){return i(xe(!0))},trackListImages:a,tracklist:t,currentTrack:n,onRemoveTrack:function(e){return i(X(e))}})})),fn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.compose,pn=Object(l.createStore)(lt,fn(Object(l.applyMiddleware)(qe))),En=function(){var e=Object(d.useGoogleLogin)({clientId:"383651533710-l72a24lkiulclgqes5mkgt5ujb2rspiu.apps.googleusercontent.com",hostedDomain:"kyanmedia.com"});return c.a.createElement(u.a,{store:pn},c.a.createElement(st.a,{fluid:!0},c.a.createElement(k.Provider,{value:e},c.a.createElement(g,null,c.a.createElement(m.a,null),c.a.createElement(dn,null)))))};n(604);o.a.render(c.a.createElement(En,null),document.getElementById("root"))}},[[330,1,2]]]);
//# sourceMappingURL=main.4a164382.chunk.js.map
{"version":3,"sources":["utils/spotify/index.js","components/error-boundary/index.js","contexts/google.js","constants/mopidy-api.js","constants/common.js","actions/index.js","search/constants.js","utils/time/index.js","search/actions/index.js","constants/auth-api.js","utils/payload/index.js","utils/notify/index.js","utils/on-message-handler/index.js","utils/state/index.js","containers/jukebox-middleware/index.js","reducers/track/index.js","reducers/tracklist/index.js","reducers/timer/index.js","reducers/jukebox/index.js","reducers/settings/index.js","search/reducers/index.js","reducers/index.js","utils/signin-token/index.js","components/skip-buttons/index.js","components/controls/index.js","components/url-drop-area/index.js","components/drag-in-track/index.js","components/added-by/index.js","components/current-track/index.js","containers/current-track-container/index.js","components/settings/index.js","components/tracklist/index.js","search/components/button/index.js","components/volume-buttons/index.js","components/clear-playlist/index.js","search/components/sidebar/index.js","search/index.js","dashboard/index.js","containers/dashboard-container/index.js","App.js","index.js","components/current-track/default-artwork.png"],"names":["module","exports","transformUrl","url","uri","replace","match","ErrorBoundary","props","state","hasError","error","info","this","setState","children","React","Component","GoogleAuthContext","createContext","ADD_CURRENT_TRACK","ADD_TRACKS","CONNECT","CONNECTING","CONNECTED","DISCONNECT","DISCONNECTED","DROP_TYPES","SEND","STORE_TOKEN","CLEAR_STORE_TOKEN","UPDATE_VOLUME","UPDATE_PLAYBACK_STATE","UPDATE_PROGRESS_TIMER","MOPIDY_CONNECTED","MOPIDY_DISCONNECTED","updateToken","token","type","Types","clearToken","addNewTrack","key","MopidyApi","params","addCurrentTrack","track","addTrackList","list","removeFromTracklist","updateProgressTimer","position","duration","Infinity","wsConnect","wsConnecting","wsConnected","wsDisconnect","wsDisconnected","mopidyConnected","mopidyDisconnected","getCurrentTrack","getTimePosition","getState","getTrackList","clearTrackList","startPlaying","stopPlaying","pausePlaying","nextPlaying","previousPlaying","getVolume","updateVolume","volume","updatePlaybackState","setVolume","Number","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","millisToSeconds","timerToPercentage","timer","percentage","round","isNaN","toggleSearchSidebar","open","Search","Payload","encode","jwt","data","decode","payload","JSON","parse","encodeToJson","stringify","Notify","success","message","notify","show","warning","store","dispatch","actions","onMessageHandler","progressTimer","AuthApi","console","log","progress","set","length","jukebox","playbackState","start","stop","playBackChanged","tracklist","name","album","artist","SearchConst","results","State","loadInitial","forEach","action","JukeboxMiddleware","process","socket","next","packMessage","settings","mopidyStateChange","online","onOpen","_evt","ProgressTimer","callback","fallbackTargetFrameRate","disableRequestAnimationFrame","trackProgressTimer","onClose","onMessage","onSearchResults","Constants","close","io","transports","on","reset","emit","map","item","initalProgressState","remaining","initalState","mopidyOnline","Object","assign","searchSideBarOpen","query","limit","offset","total","search","Constant","filter","tracks","items","jukeboxApp","combineReducers","SignInToken","refresh","googleApi","workerTimers","reloadAuthResponse","then","response","id_token","err","warn","clear","id","SkipButtons","disabled","onPrevious","onNext","cb","Button","onClick","animated","className","Content","hidden","visible","Icon","previousButton","nextButton","Controls","onPlay","onPause","onStop","active","playButton","pauseButton","stopButton","UrlDropArea","connectDropTarget","title","DropTarget","accepts","drop","monitor","onDrop","connect","dropTarget","DragInTrack","backend","HTML5Backend","addedByContent","users","List","fullName","user","fullname","Item","addedAt","userPicture","Description","dateFormat","picture","Image","avatar","src","color","AddedBy","Popup","wide","content","trigger","CurrentTrack","composer","Card","image","defaultImage","percent","Header","Meta","year","albumDescription","extra","addedBy","Settings","useContext","googleUser","signIn","signOut","icon","floated","profileObj","rounded","size","imageUrl","Fragment","imageChooser","isCurrent","onRemoveTrack","hasBeenPlayed","klass","inline","trackImage","undefined","listItems","currentTrack","time","index","isCurrentTrack","Date","now","classnames","as","trackHeading","trackDescription","Tracklist","relaxed","SearchButton","volumeUp","volumeDown","VolumeButtons","onVolumeChange","Group","Or","text","ClearPlaylist","clearButton","Label","horizontal","handleConfirm","ev","onClear","handleCancel","Confirm","cancelButton","confirmButton","onCancel","onConfirm","onSubmit","onQueryChange","onAddTrack","totalPages","onPageChange","inputEl","useRef","Sidebar","Pushable","animation","inverted","vertical","width","direction","onShow","current","focus","Form","Field","required","ref","placeholder","onChange","fluid","Divider","Pagination","defaultActivePage","firstItem","lastItem","pointing","secondary","divided","Pusher","dimmed","SearchContainer","useSelector","useDispatch","searchActions","mopidyActions","onSearch","searchOptions","activePage","options","evt","target","value","_","Dashboard","onTracklistClear","onSearchClick","Dimmer","Dimmable","blurring","Container","Grid","stackable","columns","Column","DragDropContext","isSignedIn","disable","googleTokenId","refreshTokenTimeoutID","useEffect","Zi","_item","getItem","urls","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","jukeboxMiddleware","App","googleAuth","useGoogleLogin","clientId","hostedDomain","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3b5be4ac.chunk.js","sourcesContent":["// https://open.spotify.com/track/0c41pMosF5Kqwwegcps8ES\nconst transformUrl = (url) => {\n  const uri = url.replace(/^.*\\/track\\//, 'spotify:track:')\n  return (uri.match(/spotify:track/g) ? uri : null)\n}\n\nmodule.exports = {\n  transformUrl\n}\n","import React from 'react'\n\n// uses code from https://reactjs.org/blog/2017/07/26/error-handling-in-react-16.html\nclass ErrorBoundary extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  componentDidCatch (error, info) {\n    // Display fallback UI\n    this.setState({ hasError: true })\n\n    // You can also log the error to an error reporting service\n    if (process.env.NODE_ENV === 'development') {\n      console.log(`error: ${error}`)\n      console.log(`info: ${info}`)\n    }\n  }\n\n  render () {\n    if (this.state.hasError) {\n      return <h1>Ouch! I broke a bit.</h1>\n    }\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","import React from 'react'\n\nconst GoogleAuthContext = React.createContext()\n\nexport default GoogleAuthContext\n","export default {\n  PLAYBACK_GET_CURRENT_TRACK: 'mopidy::playback.getCurrentTrack',\n  EVENT_TRACK_PLAYBACK_STARTED: 'mopidy::event:trackPlaybackStarted',\n  EVENT_PLAYBACK_STATE_CHANGED: 'mopidy::event:playbackStateChanged',\n  EVENT_PLAYBACK_STATE_RESUMED: 'mopidy::event:trackPlaybackResumed',\n  TRACKLIST_GET_TRACKS: 'mopidy::tracklist.getTracks',\n  TRACKLIST_ADD_TRACK: 'mopidy::tracklist.add',\n  TRACKLIST_REMOVE_TRACK: 'mopidy::tracklist.remove',\n  TRACKLIST_CLEAR: 'mopidy::tracklist.clear',\n  PLAYBACK_GET_TIME_POSITION: 'mopidy::playback.getTimePosition',\n  PLAYBACK_GET_PLAYBACK_STATE: 'mopidy::playback.getState',\n  PLAYBACK_PLAY: 'mopidy::playback.play',\n  PLAYBACK_STOP: 'mopidy::playback.stop',\n  PLAYBACK_PAUSE: 'mopidy::playback.pause',\n  PLAYBACK_NEXT: 'mopidy::playback.next',\n  PLAYBACK_BACK: 'mopidy::playback.previous',\n  PLAYING: 'playing',\n  PAUSED: 'paused',\n  STOPPED: 'stopped',\n  SET_VOLUME: 'mopidy::mixer.setVolume',\n  GET_VOLUME: 'mopidy::mixer.getVolume',\n  EVENT_VOLUME_CHANGED: 'mopidy::event:volumeChanged',\n  VALIDATION_ERROR: 'mopidy::validationError'\n}\n","export default {\n  ADD_CURRENT_TRACK: 'actionAddCurrentTrack',\n  ADD_TRACKS: 'actionAddTracks',\n  CONNECT: 'actionConnect',\n  CONNECTING: 'actionConnecting',\n  CONNECTED: 'actionConnected',\n  DISCONNECT: 'actionDisconnect',\n  DISCONNECTED: 'actionDisconnected',\n  DROP_TYPES: ['__NATIVE_URL__'],\n  SEND: 'actionSend',\n  STORE_TOKEN: 'actionStoreToken',\n  CLEAR_STORE_TOKEN: 'actionClearStoreToken',\n  UPDATE_VOLUME: 'actionUpdateVolume',\n  UPDATE_PLAYBACK_STATE: 'actionPlaybackState',\n  UPDATE_PROGRESS_TIMER: 'actionUpdateProgressTimer',\n  MOPIDY_CONNECTED: 'actionMopidyConnected',\n  MOPIDY_DISCONNECTED: 'actionMopidyDisconnected'\n}\n","import MopidyApi from 'constants/mopidy-api'\nimport Types from 'constants/common'\nimport { transformUrl } from 'utils/spotify'\n\nexport const updateToken = token => {\n  return {\n    type: Types.STORE_TOKEN,\n    token\n  }\n}\n\nexport const clearToken = () => {\n  return {\n    type: Types.CLEAR_STORE_TOKEN\n  }\n}\n\nexport const addNewTrack = url => {\n  let uri = transformUrl(url)\n\n  return {\n    type: Types.SEND,\n    key: MopidyApi.TRACKLIST_ADD_TRACK,\n    params: { 'uri': uri }\n  }\n}\n\nexport const addCurrentTrack = track => {\n  return {\n    type: Types.ADD_CURRENT_TRACK,\n    track\n  }\n}\n\nexport const addTrackList = list => {\n  return {\n    type: Types.ADD_TRACKS,\n    list\n  }\n}\n\nexport const removeFromTracklist = uri => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.TRACKLIST_REMOVE_TRACK,\n    params: { 'uri': [uri] }\n  }\n}\n\nexport const updateProgressTimer = (position, duration) => {\n  if (duration === Infinity) { duration = 0 }\n\n  return {\n    type: Types.UPDATE_PROGRESS_TIMER,\n    position,\n    duration\n  }\n}\n\nexport const wsConnect = () => {\n  return {\n    type: Types.CONNECT\n  }\n}\n\nexport const wsConnecting = () => {\n  return {\n    type: Types.CONNECTING\n  }\n}\n\nexport const wsConnected = () => {\n  return {\n    type: Types.CONNECTED\n  }\n}\n\nexport const wsDisconnect = () => {\n  return {\n    type: Types.DISCONNECT\n  }\n}\n\nexport const wsDisconnected = () => {\n  return {\n    type: Types.DISCONNECTED\n  }\n}\n\nexport const mopidyConnected = () => {\n  return {\n    type: Types.MOPIDY_CONNECTED\n  }\n}\n\nexport const mopidyDisconnected = () => {\n  return {\n    type: Types.MOPIDY_DISCONNECTED\n  }\n}\n\nexport const getCurrentTrack = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_GET_CURRENT_TRACK\n  }\n}\n\nexport const getTimePosition = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_GET_TIME_POSITION\n  }\n}\n\nexport const getState = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_GET_PLAYBACK_STATE\n  }\n}\n\nexport const getTrackList = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.TRACKLIST_GET_TRACKS\n  }\n}\n\nexport const clearTrackList = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.TRACKLIST_CLEAR\n  }\n}\n\nexport const startPlaying = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_PLAY\n  }\n}\n\nexport const stopPlaying = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_STOP\n  }\n}\n\nexport const pausePlaying = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_PAUSE\n  }\n}\n\nexport const nextPlaying = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_NEXT\n  }\n}\n\nexport const previousPlaying = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.PLAYBACK_BACK\n  }\n}\n\nexport const getVolume = () => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.GET_VOLUME\n  }\n}\n\nexport const updateVolume = (volume) => {\n  return {\n    type: Types.UPDATE_VOLUME,\n    volume\n  }\n}\n\nexport const updatePlaybackState = (state) => {\n  return {\n    type: Types.UPDATE_PLAYBACK_STATE,\n    state\n  }\n}\n\nexport const setVolume = (volume) => {\n  return {\n    type: Types.SEND,\n    key: MopidyApi.SET_VOLUME,\n    params: [Number(volume)]\n  }\n}\n","export default {\n  SEARCH: 'actionTrackSearch',\n  SEARCH_GET_TRACKS: 'search::getTracks',\n  STORE_SEARCH_RESULTS: 'actionStoreSearchResults',\n  STORE_SEARCH_QUERY: 'actionStoreSearchQuery',\n  TOGGLE_SEARCH_SIDEBAR: 'actionToggleSearchSidebar',\n  REMOVE_FROM_SEARCH_RESULTS: 'actionRemoveFromSearchResults'\n}\n","import ProgressTimer from 'media-progress-timer'\n\nexport const millisToMinutesAndSeconds = (millis) => {\n  let minutes = Math.floor(millis / 60000)\n  let seconds = ((millis % 60000) / 1000).toFixed(0)\n  return minutes + ':' + (seconds < 10 ? '0' : '') + seconds\n}\n\nexport const millisToSeconds = (millis) => {\n  return millis * 0.001\n}\n\nexport const timerToPercentage = timer => {\n  if (timer.duration === 0) { return 0 }\n  const position = millisToSeconds(timer.position)\n  const duration = millisToSeconds(timer.duration)\n  const percentage = Math.round((position / duration) * 100)\n\n  return isNaN(percentage) ? 0 : percentage\n}\n\nexport const trackProgressTimer = (store, actions) => {\n  return ProgressTimer({\n    callback: (position, duration) => {\n      store.dispatch(actions.updateProgressTimer(position, duration))\n    },\n    fallbackTargetFrameRate: 1,\n    disableRequestAnimationFrame: true\n  })\n}\n","import Search from 'search/constants'\n\nexport const toggleSearchSidebar = (open) => {\n  return {\n    type: Search.TOGGLE_SEARCH_SIDEBAR,\n    open\n  }\n}\n\nexport const storeSearchResults = (results) => {\n  return {\n    type: Search.STORE_SEARCH_RESULTS,\n    results\n  }\n}\n\nexport const storeSearchQuery = (query) => {\n  return {\n    type: Search.STORE_SEARCH_QUERY,\n    query\n  }\n}\n\nexport const search = (query, options) => {\n  return {\n    type: Search.SEARCH,\n    key: Search.SEARCH_GET_TRACKS,\n    params: { query, options }\n  }\n}\n\nexport const removeFromSearchResults = (uri) => {\n  return {\n    type: Search.REMOVE_FROM_SEARCH_RESULTS,\n    uri\n  }\n}\n","export default {\n  AUTHENTICATION_TOKEN_INVALID: 'auth::authenticationTokenInvalid'\n}\n","const Payload = {\n  encode: (jwt, key, data) => {\n    return {\n      jwt,\n      key,\n      data\n    }\n  },\n\n  decode: payload => {\n    return JSON.parse(payload)\n  },\n\n  encodeToJson: (jwt, key, data) => {\n    return JSON.stringify(Payload.encode(jwt, key, data))\n  }\n}\n\nexport default Payload\n","import { notify } from 'react-notify-toast'\n\nconst Notify = {\n  success: (message) => notify.show(message, 'success', 3000, {}),\n  warning: (message) => notify.show(message, 'warning', 3000, {})\n}\n\nexport default Notify\n","import * as actions from 'actions'\nimport * as searchActions from 'search/actions'\nimport AuthApi from 'constants/auth-api'\nimport MopidyApi from 'constants/mopidy-api'\nimport SearchConst from 'search/constants'\nimport Payload from 'utils/payload'\nimport notify from 'utils/notify'\n\nconst updatePlaybackState = (store, state) => {\n  store.dispatch(actions.updatePlaybackState(state))\n}\n\nconst playBackChanged = (store, state, progress) => {\n  switch (state) {\n    case MopidyApi.PAUSED:\n    case MopidyApi.STOPPED:\n      updatePlaybackState(store, state)\n      progress.stop()\n      notify.success('Jukebox Halted')\n      break\n    case MopidyApi.PLAYING:\n      updatePlaybackState(store, state)\n      progress.start()\n      break\n    default:\n      break\n  }\n}\n\nconst addCurrentTrack = (track, store, progress) => {\n  store.dispatch(actions.addCurrentTrack(track))\n  const progressTimer = progress.set(0, track.length)\n  if (store.getState().jukebox.playbackState === MopidyApi.PLAYING) progressTimer.start()\n}\n\nconst addTrackList = (tracklist, store) => {\n  store.dispatch(actions.addTrackList(tracklist))\n}\n\nconst onMessageHandler = (store, payload, progressTimer) => {\n  const { key, data } = Payload.decode(payload)\n\n  switch (key) {\n    case AuthApi.AUTHENTICATION_TOKEN_INVALID:\n      console.log(`AUTHENTICATION_TOKEN_INVALID: ${data.error}`)\n      store.dispatch(actions.clearToken())\n      break\n    case MopidyApi.PLAYBACK_GET_CURRENT_TRACK:\n    case MopidyApi.EVENT_TRACK_PLAYBACK_STARTED:\n      if (data && data.track) addCurrentTrack(data.track, store, progressTimer)\n      break\n    case MopidyApi.EVENT_PLAYBACK_STATE_CHANGED:\n    case MopidyApi.PLAYBACK_GET_PLAYBACK_STATE:\n      playBackChanged(store, data, progressTimer)\n      break\n    case MopidyApi.TRACKLIST_GET_TRACKS:\n      addTrackList(data, store)\n      break\n    case MopidyApi.TRACKLIST_ADD_TRACK:\n      const track = data.track\n      notify.success(`Adding: ${track.name} / ${track.album.name} by ${track.artist.name}`)\n      break\n    case MopidyApi.PLAYBACK_NEXT:\n    case MopidyApi.PLAYBACK_BACK:\n      store.dispatch(actions.getCurrentTrack())\n      break\n    case MopidyApi.GET_VOLUME:\n      store.dispatch(actions.updateVolume(data))\n      break\n    case MopidyApi.EVENT_VOLUME_CHANGED:\n      store.dispatch(actions.updateVolume(data))\n      notify.success('Volume Changed')\n      break\n    case MopidyApi.PLAYBACK_GET_TIME_POSITION:\n      progressTimer.set(data)\n      break\n    case SearchConst.SEARCH_GET_TRACKS:\n      store.dispatch(searchActions.storeSearchResults(data))\n      break\n    case MopidyApi.VALIDATION_ERROR:\n      notify.warning(data)\n      break\n    default:\n      console.log(`Unknown message: ${key} body: ${data}`)\n      break\n  }\n}\n\nexport default onMessageHandler\n","import * as actions from 'actions'\n\nconst State = {\n  loadInitial: (store) => {\n    [\n      'getCurrentTrack',\n      'getTimePosition',\n      'getState',\n      'getTrackList',\n      'getVolume'\n    ].forEach(action => {\n      store.dispatch(actions[action]())\n    })\n  }\n}\n\nexport default State\n","import io from 'socket.io-client'\nimport * as actions from 'actions'\nimport Constants from 'constants/common'\nimport SearchConst from 'search/constants'\nimport { trackProgressTimer } from 'utils/time'\nimport onMessageHandler from 'utils/on-message-handler'\nimport Payload from 'utils/payload'\nimport State from 'utils/state'\n\nconst JukeboxMiddleware = (() => {\n  let url = `http://${process.env.REACT_APP_WS_URL}:${process.env.REACT_APP_WS_PORT}`\n  let socket = null\n  let progressTimer = null\n\n  return store => next => action => {\n    const getJWT = () => store.getState().settings.token\n    const packMessage = () => Payload.encodeToJson(getJWT(store), action.key, action.params)\n\n    const mopidyStateChange = data => {\n      if (JSON.parse(data).online) {\n        store.dispatch(actions.mopidyConnected())\n        return State.loadInitial(store)\n      }\n      store.dispatch(actions.mopidyDisconnected())\n    }\n    const onOpen = _evt => {\n      progressTimer = trackProgressTimer(store, actions)\n      store.dispatch(actions.wsConnected())\n    }\n    const onClose = _evt => store.dispatch(actions.wsDisconnect())\n    const onMessage = data => onMessageHandler(store, data, progressTimer)\n    const onSearchResults = data => onMessageHandler(store, data, progressTimer)\n    const onConnect = () => {\n      if (socket != null) socket.close()\n      socket = io(url, { transports: ['websocket'] })\n      socket.on('search', onSearchResults)\n      socket.on('mopidy', mopidyStateChange)\n      socket.on('message', onMessage)\n      socket.on('connect', onOpen)\n      socket.on('disconnect', onClose)\n\n      store.dispatch(actions.wsConnecting())\n    }\n    const onDisconnect = () => {\n      if (progressTimer) { progressTimer.reset() }\n      store.dispatch(actions.wsDisconnected())\n    }\n\n    switch (action.type) {\n      case Constants.CONNECT:\n        return onConnect()\n      case Constants.DISCONNECT:\n        return onDisconnect()\n      case Constants.SEND:\n        return socket.emit('message', packMessage())\n      case SearchConst.SEARCH:\n        return socket.emit('search', packMessage())\n      default:\n        return next(action)\n    }\n  }\n})()\n\nexport default JukeboxMiddleware\n","import Types from 'constants/common'\n\nconst track = (state = null, action) => {\n  switch (action.type) {\n    case Types.ADD_CURRENT_TRACK:\n      return action.track\n    default:\n      return state\n  }\n}\n\nexport default track\n","import Types from 'constants/common'\n\nconst tracklist = (state = [], action) => {\n  switch (action.type) {\n    case Types.ADD_TRACKS:\n      return action.list.map(item => item.track)\n    default:\n      return state\n  }\n}\n\nexport default tracklist\n","import Types from 'constants/common'\n\nconst initalProgressState = {\n  position: 0,\n  duration: 0,\n  remaining: 0\n}\n\nconst timer = (state = initalProgressState, action) => {\n  switch (action.type) {\n    case Types.UPDATE_PROGRESS_TIMER:\n      return {\n        position: action.position,\n        duration: action.duration,\n        remaining: action.duration - action.position\n      }\n    default:\n      return state\n  }\n}\n\nexport default timer\n","import MopidyApi from 'constants/mopidy-api'\nimport Types from 'constants/common'\n\nconst initalState = {\n  online: false,\n  mopidyOnline: false,\n  volume: 0,\n  playbackState: MopidyApi.STOPPED\n}\n\nconst jukebox = (state = initalState, action) => {\n  switch (action.type) {\n    case Types.CONNECTED:\n      return Object.assign({}, state, {\n        online: true\n      })\n    case Types.DISCONNECTED:\n      return Object.assign({}, state, {\n        online: false\n      })\n    case Types.MOPIDY_CONNECTED:\n      return Object.assign({}, state, {\n        mopidyOnline: true\n      })\n    case Types.MOPIDY_DISCONNECTED:\n      return Object.assign({}, state, {\n        mopidyOnline: false\n      })\n    case Types.UPDATE_VOLUME:\n      return Object.assign({}, state, {\n        volume: action.volume\n      })\n    case Types.UPDATE_PLAYBACK_STATE:\n      return Object.assign({}, state, {\n        playbackState: action.state\n      })\n    default:\n      return state\n  }\n}\n\nexport default jukebox\n","import Types from 'constants/common'\n\nconst initalState = {\n  token: null\n}\n\nconst settings = (state = initalState, action) => {\n  switch (action.type) {\n    case Types.STORE_TOKEN:\n      if (action.token === state.token) return state\n      return Object.assign({}, state, {\n        token: action.token\n      })\n    case Types.CLEAR_STORE_TOKEN:\n      return Object.assign({}, state, {\n        token: null\n      })\n    default:\n      return state\n  }\n}\n\nexport default settings\n","import Constant from 'search/constants'\n\nconst initalState = {\n  searchSideBarOpen: false,\n  query: '',\n  limit: 20,\n  offset: 0,\n  total: 0,\n  results: []\n}\n\nconst search = (state = initalState, action) => {\n  switch (action.type) {\n    case Constant.REMOVE_FROM_SEARCH_RESULTS:\n      return {\n        ...state,\n        results: state.results.filter(item => {\n          return item.track.uri !== action.uri\n        })\n      }\n    case Constant.TOGGLE_SEARCH_SIDEBAR:\n      return Object.assign({}, state, {\n        searchSideBarOpen: action.open\n      })\n    case Constant.STORE_SEARCH_QUERY:\n      return Object.assign({}, state, {\n        query: action.query\n      })\n    case Constant.STORE_SEARCH_RESULTS:\n      const results = action.results.tracks\n      return Object.assign({}, state, {\n        limit: results.limit,\n        offset: results.offset,\n        total: results.total > 10000 ? 10000 : results.total,\n        results: results.items\n      })\n    default:\n      return state\n  }\n}\n\nexport default search\n","import { combineReducers } from 'redux'\nimport track from 'reducers/track'\nimport tracklist from 'reducers/tracklist'\nimport timer from 'reducers/timer'\nimport jukebox from 'reducers/jukebox'\nimport settings from 'reducers/settings'\nimport search from 'search/reducers'\n\nconst jukeboxApp = combineReducers({\n  track,\n  tracklist,\n  timer,\n  jukebox,\n  settings,\n  search\n})\n\nexport default jukeboxApp\n","import * as workerTimers from 'worker-timers'\n\nconst checkForTokenInMilliseconds = 2700000\n\nconst SignInToken = {\n  refresh: (googleApi, success) => {\n    return workerTimers.setTimeout(() => {\n      googleApi.reloadAuthResponse().then(\n        (response) => success(response.id_token),\n        (err) => console.warn('Token un-refreshable: ', err.message))\n    }, checkForTokenInMilliseconds)\n  },\n  clear: (id) => { if (id) workerTimers.clearTimeout(id) }\n}\n\nexport default SignInToken\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, Icon } from 'semantic-ui-react'\n\nconst previousButton = (cb, disabled) => (\n  <Button\n    onClick={cb}\n    animated='vertical'\n    className='jb-previous-button'\n    disabled={disabled}\n  >\n    <Button.Content hidden>Prev</Button.Content>\n    <Button.Content visible>\n      <Icon name='step backward' />\n    </Button.Content>\n  </Button>\n)\n\nconst nextButton = (cb, disabled) => (\n  <Button\n    onClick={cb}\n    animated='vertical'\n    className='jb-next-button'\n    disabled={disabled}\n  >\n    <Button.Content hidden>Next</Button.Content>\n    <Button.Content visible>\n      <Icon name='step forward' />\n    </Button.Content>\n  </Button>\n)\n\nconst SkipButtons = ({ disabled, onPrevious, onNext }) => (\n  <span>\n    {previousButton(onPrevious, disabled)}\n    {nextButton(onNext, disabled)}\n  </span>\n)\n\nSkipButtons.propTypes = {\n  disabled: PropTypes.bool,\n  onPrevious: PropTypes.func.isRequired,\n  onNext: PropTypes.func.isRequired\n}\n\nexport default SkipButtons\n","import React from 'react'\nimport SkipButtons from 'components/skip-buttons'\nimport MopidyApi from 'constants/mopidy-api'\nimport PropTypes from 'prop-types'\nimport { Button, Icon } from 'semantic-ui-react'\n\nconst playButton = (cb, playbackState, disabled) => (\n  <Button\n    onClick={cb}\n    animated='vertical'\n    disabled={(playbackState === MopidyApi.PLAYING || disabled)}\n    active={(playbackState === MopidyApi.PLAYING)}\n    className='jb-play-button'\n  >\n    <Button.Content hidden>Play</Button.Content>\n    <Button.Content visible>\n      <Icon name='play' />\n    </Button.Content>\n  </Button>\n)\n\nconst pauseButton = (cb, playbackState, disabled) => (\n  <Button\n    onClick={cb}\n    animated='vertical'\n    disabled={(playbackState === MopidyApi.PAUSED || playbackState === MopidyApi.STOPPED || disabled)}\n    active={(playbackState === MopidyApi.PAUSED)}\n    className='jb-pause-button'\n  >\n    <Button.Content hidden>Pause</Button.Content>\n    <Button.Content visible>\n      <Icon name='pause' />\n    </Button.Content>\n  </Button>\n)\n\nconst stopButton = (cb, playbackState, disabled) => (\n  <Button\n    onClick={cb}\n    animated='vertical'\n    disabled={(playbackState === MopidyApi.STOPPED || disabled)}\n    active={(playbackState === MopidyApi.STOPPED)}\n    className='jb-stop-button'\n  >\n    <Button.Content hidden>Stop</Button.Content>\n    <Button.Content visible>\n      <Icon name='stop' />\n    </Button.Content>\n  </Button>\n)\n\nconst Controls = (props) => {\n  const { disabled, playbackState, onPlay, onPause, onStop, onPrevious, onNext } = props\n  return (\n    <span>\n      <SkipButtons\n        disabled={disabled}\n        onPrevious={onPrevious}\n        onNext={onNext}\n      />\n      {playButton(onPlay, playbackState, disabled)}\n      {pauseButton(onPause, playbackState, disabled)}\n      {stopButton(onStop, playbackState, disabled)}\n    </span>\n  )\n}\n\nControls.propTypes = {\n  disabled: PropTypes.bool,\n  playbackState: PropTypes.string,\n  onPlay: PropTypes.func.isRequired,\n  onPause: PropTypes.func.isRequired,\n  onStop: PropTypes.func.isRequired,\n  onPrevious: PropTypes.func.isRequired,\n  onNext: PropTypes.func.isRequired\n}\n\nexport default Controls\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { DropTarget } from 'react-dnd'\n\nconst boxTarget = {\n  drop (props, monitor) {\n    if (props.onDrop) {\n      props.onDrop(props, monitor)\n    }\n  }\n}\n\nconst boxHandler = (connect, monitor) => {\n  return {\n    connectDropTarget: connect.dropTarget()\n  }\n}\n\nclass UrlDropArea extends Component {\n  render () {\n    const { connectDropTarget } = this.props\n\n    return connectDropTarget(\n      <div title='Drag in Spotify tracks to add to playlist'>\n        { this.props.children }\n      </div>\n    )\n  }\n}\n\nUrlDropArea.propTypes = {\n  connectDropTarget: PropTypes.func.isRequired,\n  accepts: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onDrop: PropTypes.func\n}\n\nexport default DropTarget(props => props.accepts, boxTarget, boxHandler)(UrlDropArea)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { DragDropContextProvider } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport Constants from 'constants/common'\nimport UrlDropArea from 'components/url-drop-area'\n\nconst DragInTrack = ({ disabled, onDrop, children }) => {\n  if (disabled) { return children }\n\n  return (\n    <DragDropContextProvider backend={HTML5Backend}>\n      <UrlDropArea accepts={Constants.DROP_TYPES} onDrop={onDrop}>\n        { children }\n      </UrlDropArea>\n    </DragDropContextProvider>\n  )\n}\n\nDragInTrack.propTypes = {\n  disabled: PropTypes.bool,\n  onDrop: PropTypes.func.isRequired\n}\n\nexport default DragInTrack\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { List, Popup, Icon, Image } from 'semantic-ui-react'\nimport dateFormat from 'dateformat'\nimport './index.css'\n\nconst addedByContent = (users) => (\n  <List>\n    {\n      users.map(data => {\n        const fullName = data.user ? data.user.fullname : 'User unknown'\n\n        return (\n          <List.Item key={data.addedAt}>\n            {userPicture(data)}\n            <List.Content>\n              <List.Description>\n                <strong>{dateFormat(data.addedAt, 'dd mmm yyyy @ h:MM tt')}</strong> - {fullName}\n              </List.Description>\n            </List.Content>\n          </List.Item>\n        )\n      })\n    }\n  </List>\n)\n\nconst userPicture = data => {\n  if (data && data.user && data.user.picture) return <Image avatar className='added_by_avatar_image' src={data.user.picture} />\n  return <Icon name='spotify' color='green' />\n}\n\nconst AddedBy = ({ users = [] }) => {\n  const avatar = userPicture(users[0])\n  if (!users.length) return avatar\n\n  return (\n    <Popup\n      wide\n      content={addedByContent(users)}\n      trigger={avatar}\n    />\n  )\n}\n\nAddedBy.propTypes = {\n  users: PropTypes.array\n}\n\nexport default AddedBy\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Card, Image } from 'semantic-ui-react'\nimport { Line } from 'rc-progress'\nimport AddedBy from 'components/added-by'\nimport defaultImage from './default-artwork.png'\nimport { millisToMinutesAndSeconds } from 'utils/time'\nimport './index.css'\n\nconst albumDescription = album => {\n  if (!album) return null\n  const year = album.year ? ` (${album.year})` : null\n  return <Card.Description>{album.name}{year}</Card.Description>\n}\n\nconst composerDescription = composer => {\n  if (!composer) return null\n  return <Card.Description>{composer.name}</Card.Description>\n}\n\nconst noTrack = () => (\n  <Card>\n    <Image src={defaultImage} />\n    <Card.Content>\n      <Card.Header>Nothing playing</Card.Header>\n      <Card.Description>Drag some music here or press play.</Card.Description>\n    </Card.Content>\n  </Card>\n)\n\nconst CurrentTrack = ({ track, progress, remaining }) => {\n  if (!track) { return noTrack() }\n\n  return (\n    <Card>\n      <Image src={track.image || defaultImage} />\n      <Card.Content>\n        <div className='progress-container'>\n          <span className='remaining-text'>{millisToMinutesAndSeconds(remaining)}</span>\n          <span className='track-length'>{millisToMinutesAndSeconds(track.length)}</span>\n          <Line percent={progress} />\n        </div>\n        <Card.Header>{track.name}</Card.Header>\n        <Card.Meta>{track.artist.name}</Card.Meta>\n        { albumDescription(track.album) }\n        { composerDescription(track.composer) }\n      </Card.Content>\n      <Card.Content extra>\n        <AddedBy users={track.addedBy} />\n      </Card.Content>\n    </Card>\n  )\n}\n\nCurrentTrack.propTypes = {\n  track: PropTypes.object,\n  progress: PropTypes.number,\n  remaining: PropTypes.number\n}\n\nexport default CurrentTrack\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { timerToPercentage } from 'utils/time'\nimport CurrentTrack from 'components/current-track'\n\nexport const CurrentTrackContainer = ({ track, progress, remaining }) => (\n  <CurrentTrack\n    track={track}\n    progress={progress}\n    remaining={remaining}\n  />\n)\n\nconst mapStateToProps = state => {\n  return {\n    track: state.track,\n    progress: timerToPercentage(state.timer),\n    remaining: state.timer.remaining\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(CurrentTrackContainer)\n","import React, { useContext } from 'react'\nimport { Button, Image } from 'semantic-ui-react'\nimport GoogleAuthContext from 'contexts/google'\nimport './index.css'\n\nexport const Settings = () => {\n  const { googleUser, signIn, signOut } = useContext(GoogleAuthContext)\n\n  let avatar = (\n    <Button\n      icon='power off'\n      floated='right'\n      onClick={() => signIn()}\n      className='jb-settings-toggle'\n      title='Login using Google'\n    />\n  )\n  if (googleUser && googleUser.profileObj) {\n    avatar = (\n      <Image\n        rounded\n        size='mini'\n        floated='right'\n        title={googleUser.profileObj.name}\n        src={googleUser.profileObj.imageUrl}\n        onClick={() => signOut()}\n      />\n    )\n  }\n\n  return (\n    <React.Fragment>{avatar}</React.Fragment>\n  )\n}\n\nexport default Settings\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport { List, Image } from 'semantic-ui-react'\nimport { millisToMinutesAndSeconds } from 'utils/time'\nimport defaultImage from 'components/current-track/default-artwork.png'\nimport AddedBy from 'components/added-by'\nimport './index.css'\n\nconst isCurrentTrack = (currentTrack, track) => {\n  if (!currentTrack) return false\n  return currentTrack.uri === track.uri\n}\n\nconst trackImage = ({ image, isCurrent, onClick, hasBeenPlayed }) => {\n  let klass, title\n\n  if (isCurrent) klass = 'current-image'\n  if (onClick && !isCurrent) {\n    title = 'Click to remove from playlist'\n    klass = 'remove-image'\n  }\n\n  return (\n    <Image\n      className={klass}\n      size={hasBeenPlayed ? 'tiny' : 'mini'}\n      src={image}\n      title={title}\n      onClick={onClick}\n      inline\n    />\n  )\n}\n\nconst removeTrack = (uri, cb) => {\n  return () => cb(uri)\n}\n\nconst imageChooser = (disabled, track, isCurrent, onRemoveTrack, hasBeenPlayed) => {\n  const image = track.image ? track.image : defaultImage\n\n  return trackImage({\n    image,\n    hasBeenPlayed,\n    isCurrent,\n    onClick: (!disabled && !isCurrent) ? removeTrack(track.uri, onRemoveTrack) : undefined\n  })\n}\n\nconst trackHeading = (track) => (\n  <List.Header as='h4'>{track.name}</List.Header>\n)\n\nconst trackDescription = (track) => (\n  <List.Description>\n    {track.artist.name} <small>({millisToMinutesAndSeconds(track.length)})</small>\n  </List.Description>\n)\n\nconst listItems = (disabled, tracks, currentTrack, onRemoveTrack) => {\n  let time\n\n  return tracks.map((track, index) => {\n    const isCurrent = isCurrentTrack(currentTrack, track)\n    if (time) time += track.length\n    if (isCurrent) time = Date.now()\n    const { addedBy } = track\n    return (\n      <List.Item\n        className={classnames({ 'current-track': isCurrent })}\n        key={`${index}-${track.uri}`}\n      >\n        { imageChooser(disabled, track, isCurrent, onRemoveTrack, time) }\n        <List.Content\n          className={classnames({ 'track-info': !time })}\n        >\n          {trackHeading(track)}\n          {trackDescription(track)}\n          <AddedBy users={addedBy} />\n        </List.Content>\n      </List.Item>\n    )\n  })\n}\n\nconst Tracklist = ({ disabled, tracks, currentTrack, onRemoveTrack }) => {\n  if (!tracks) { return null }\n\n  return (\n    <List relaxed>\n      {listItems(disabled, tracks, currentTrack, onRemoveTrack)}\n    </List>\n  )\n}\n\nTracklist.propTypes = {\n  disabled: PropTypes.bool,\n  tracks: PropTypes.array,\n  currentTrack: PropTypes.object,\n  onRemoveTrack: PropTypes.func.isRequired\n}\n\nexport default Tracklist\n","import React from 'react'\nimport { func, bool } from 'prop-types'\nimport { Button, Icon } from 'semantic-ui-react'\n\nconst SearchButton = ({ onClick, disabled }) => (\n  <Button\n    animated='vertical'\n    floated='right'\n    onClick={onClick}\n    disabled={disabled}\n  >\n    <Button.Content hidden>Search</Button.Content>\n    <Button.Content visible>\n      <Icon name='search' />\n    </Button.Content>\n  </Button>\n)\n\nSearchButton.propTypes = {\n  onClick: func.isRequired,\n  disabled: bool.isRequired\n}\n\nexport default SearchButton\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Button, Icon } from 'semantic-ui-react'\n\nconst VOLUME_INC = 1\nconst VOLUME_MAX = 100\nconst VOLUME_MIN = 0\n\nconst volumeUp = (volume, cb) => {\n  volume += VOLUME_INC\n  if (volume <= VOLUME_MAX) {\n    return () => {\n      cb(volume)\n    }\n  }\n}\n\nconst volumeDown = (volume, cb) => {\n  volume -= VOLUME_INC\n  if (volume >= VOLUME_MIN) {\n    return () => {\n      cb(volume)\n    }\n  }\n}\n\nconst VolumeButtons = ({ disabled, volume, onVolumeChange }) => (\n  <Button.Group floated='right'>\n    <Button\n      className='jb-volume-down'\n      onClick={volumeDown(volume, onVolumeChange)}\n      disabled={disabled}\n    >\n      <Icon name='volume down' />\n    </Button>\n    <Button.Or text={volume} />\n    <Button\n      className='jb-volume-up'\n      onClick={volumeUp(volume, onVolumeChange)}\n      disabled={disabled}\n    >\n      <Icon name='volume up' />\n    </Button>\n  </Button.Group>\n)\n\nVolumeButtons.propTypes = {\n  disabled: PropTypes.bool,\n  volume: PropTypes.number,\n  onVolumeChange: PropTypes.func.isRequired\n}\n\nexport default VolumeButtons\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Confirm, Label } from 'semantic-ui-react'\n\nclass ClearPlaylist extends Component {\n  state = { open: false }\n\n  clearButton = () => {\n    return (\n      <Label\n        horizontal\n        size='mini'\n        as='a'\n        color='red'\n        onClick={this.show}\n        className='jb-clear-button'\n      >CLEAR</Label>\n    )\n  }\n\n  show = () => {\n    this.setState({ open: true })\n  }\n\n  handleConfirm = (ev) => {\n    this.setState({ open: false })\n    this.props.onClear(ev)\n  }\n\n  handleCancel = () => {\n    this.setState({ open: false })\n  }\n\n  render () {\n    if (this.props.disabled) { return null }\n\n    return (\n      <span>\n        {this.clearButton()}\n        <Confirm\n          content='Are you sure you want to nuke the playlist?'\n          cancelButton='No thanks'\n          confirmButton='Do it!'\n          open={this.state.open}\n          onCancel={this.handleCancel}\n          onConfirm={this.handleConfirm}\n        />\n      </span>\n    )\n  }\n}\n\nClearPlaylist.propTypes = {\n  disabled: PropTypes.bool,\n  onClear: PropTypes.func.isRequired\n}\n\nexport default ClearPlaylist\n","import React, { useRef } from 'react'\nimport { func, bool, array, number } from 'prop-types'\nimport { Sidebar, Button, Form, List, Header, Divider, Image, Pagination } from 'semantic-ui-react'\nimport './index.css'\n\nconst Search = (props) => {\n  const {\n    visible, onClose, results, onSubmit,\n    onQueryChange, onAddTrack, totalPages, onPageChange\n  } = props\n  const inputEl = useRef(null)\n\n  const addTrack = (uri) => () => {\n    onAddTrack(uri)\n  }\n\n  const SearchItems = () => (\n    results.map((item) => (\n      <div className='search-list-item' key={item.track.uri} onClick={addTrack(item.track.uri)}>\n        <Image\n          floated='left'\n          src={item.track.image}\n          size='mini'\n          title={`Click to add - ${item.track.name} - ${item.track.artist.name}`}\n          className='search-list-item__image'\n        />\n        <List.Content>\n          <div className='search-list-item__header'>{item.track.name} - {item.track.artist.name}</div>\n          <div className='search-list-item__content'>{item.track.album.name}</div>\n        </List.Content>\n      </div>\n    ))\n  )\n\n  return (\n    <Sidebar.Pushable>\n      <Sidebar\n        animation='overlay'\n        icon='labeled'\n        inverted='true'\n        vertical='true'\n        visible={visible}\n        width='very wide'\n        direction='right'\n        className='sidebar-search'\n        onShow={() => inputEl.current.focus()}\n      >\n        <Form inverted onSubmit={onSubmit}>\n          <Form.Field>\n            <label required>SEARCH</label>\n            <input\n              ref={inputEl}\n              placeholder='track, artist or album'\n              onChange={onQueryChange}\n            />\n          </Form.Field>\n          <Button type='submit' fluid>Submit</Button>\n        </Form>\n        <Divider horizontal>\n          <Header as='h4' inverted>Results</Header>\n        </Divider>\n        {(totalPages > 0) &&\n          <Pagination\n            className='search-list-pagination'\n            defaultActivePage={1}\n            firstItem={null}\n            lastItem={null}\n            pointing\n            secondary\n            totalPages={totalPages}\n            onPageChange={onPageChange}\n          />\n        }\n        <List divided relaxed inverted size='tiny'>\n          <SearchItems />\n        </List>\n      </Sidebar>\n      <Sidebar.Pusher\n        dimmed={visible}\n        onClick={visible ? onClose : null}\n      >\n        { props.children }\n      </Sidebar.Pusher>\n    </Sidebar.Pushable >\n  )\n}\n\nSearch.propTypes = {\n  onClose: func.isRequired,\n  onSubmit: func.isRequired,\n  onQueryChange: func.isRequired,\n  onAddTrack: func.isRequired,\n  onPageChange: func.isRequired,\n  visible: bool.isRequired,\n  results: array.isRequired,\n  totalPages: number.isRequired\n}\n\nexport default Search\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport * as mopidyActions from 'actions'\nimport * as searchActions from 'search/actions'\nimport SearchSidebar from 'search/components/sidebar'\n\nexport const SearchContainer = (props) => {\n  const search = useSelector(state => state.search)\n  const dispatch = useDispatch()\n\n  const onAddTrack = (uri) => {\n    dispatch(searchActions.removeFromSearchResults(uri))\n    dispatch(mopidyActions.addNewTrack(uri))\n  }\n\n  const onSearch = (params) => {\n    const searchOptions = {\n      offset: (params.activePage - 1) * search.limit,\n      limit: search.limit\n    }\n    dispatch(searchActions.search(search.query, searchOptions))\n  }\n\n  return (\n    <SearchSidebar\n      visible={search.searchSideBarOpen}\n      onClose={() => dispatch(searchActions.toggleSearchSidebar(false))}\n      onSubmit={() => onSearch({ activePage: 1 })}\n      onAddTrack={(uri) => onAddTrack(uri)}\n      onQueryChange={(evt) => dispatch(searchActions.storeSearchQuery(evt.target.value))}\n      onPageChange={(_, data) => onSearch(data)}\n      results={search.results}\n      totalPages={Math.round(search.total / search.limit)}\n    >\n      { props.children }\n    </SearchSidebar>\n  )\n}\n\nexport default SearchContainer\n","import React from 'react'\nimport { Dimmer, Divider, Grid, Header, Container } from 'semantic-ui-react'\nimport Controls from 'components/controls'\nimport DragInTrack from 'components/drag-in-track'\nimport CurrentTrackContainer from 'containers/current-track-container'\nimport Settings from 'components/settings'\nimport TrackList from 'components/tracklist'\nimport SearchButton from 'search/components/button'\nimport VolumeButtons from 'components/volume-buttons'\nimport ClearPlaylist from 'components/clear-playlist'\nimport SearchContainer from 'search'\nimport './index.css'\n\nconst Dashboard = (props) => {\n  const {\n    online,\n    disabled,\n    volume,\n    playbackState,\n    onPlay,\n    onStop,\n    onPause,\n    onNext,\n    onPrevious,\n    onVolumeChange,\n    onDrop,\n    onTracklistClear,\n    onSearchClick,\n    tracklist,\n    currentTrack,\n    onRemoveTrack\n  } = props\n\n  return (\n    <Dimmer.Dimmable\n      blurring\n      dimmed={!online}\n    >\n      <SearchContainer>\n        <Container className='header-wrapper' fluid>\n          <Settings />\n          <VolumeButtons\n            disabled={disabled}\n            volume={volume}\n            onVolumeChange={onVolumeChange}\n          />\n          <SearchButton\n            onClick={onSearchClick}\n            disabled={disabled}\n          />\n          <Controls\n            disabled={disabled}\n            playbackState={playbackState}\n            onPlay={onPlay}\n            onStop={onStop}\n            onPause={onPause}\n            onNext={onNext}\n            onPrevious={onPrevious}\n          />\n        </Container>\n        <Divider />\n        <Container className='body-wrapper' fluid>\n          <Grid stackable columns={2} className='dashboard-grid'>\n            <Grid.Column width={4}>\n              <DragInTrack\n                disabled={disabled}\n                onDrop={onDrop}\n              >\n                <Header size='small'>Current Track</Header>\n                <CurrentTrackContainer />\n              </DragInTrack>\n            </Grid.Column>\n            <Grid.Column width={8}>\n              <Header size='small'>\n                Playlist <ClearPlaylist\n                  disabled={disabled}\n                  onClear={onTracklistClear}\n                />\n              </Header>\n              <TrackList\n                disabled={disabled}\n                tracks={tracklist}\n                currentTrack={currentTrack}\n                onRemoveTrack={onRemoveTrack}\n              />\n            </Grid.Column>\n          </Grid>\n        </Container>\n      </SearchContainer>\n    </Dimmer.Dimmable>\n  )\n}\n\nexport default Dashboard\n","import React, { useEffect, useContext, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { DragDropContext } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport SignInToken from 'utils/signin-token'\nimport GoogleAuthContext from 'contexts/google'\nimport * as actions from 'actions'\nimport * as searchActions from 'search/actions'\nimport Dashboard from 'dashboard'\n\nexport const DashboardContainer = () => {\n  const jukebox = useSelector(state => state.jukebox)\n  const tracklist = useSelector(state => state.tracklist)\n  const currentTrack = useSelector(state => state.track)\n  const dispatch = useDispatch()\n  const { isSignedIn, googleUser } = useContext(GoogleAuthContext)\n  const disable = !(isSignedIn && jukebox.mopidyOnline)\n  const googleTokenId = useRef()\n  const refreshTokenTimeoutID = useRef()\n  const hasTokenChanged = (token) => token !== googleTokenId.current\n\n  useEffect(() => {\n    dispatch(actions.wsConnect())\n\n    /* istanbul ignore next */\n    return () => {\n      dispatch(actions.wsDisconnect())\n    }\n  }, [dispatch])\n\n  if (isSignedIn && hasTokenChanged(googleUser.Zi.id_token)) {\n    googleTokenId.current = googleUser.Zi.id_token\n    refreshTokenTimeoutID.current = SignInToken.refresh(googleUser, (token) => {\n      dispatch(actions.updateToken(token))\n    })\n    dispatch(actions.updateToken(googleTokenId.current))\n  }\n\n  if (!isSignedIn) {\n    googleTokenId.current = undefined\n    SignInToken.clear(refreshTokenTimeoutID.current)\n    dispatch(actions.clearToken())\n  }\n\n  return (\n    <Dashboard\n      online={jukebox.online}\n      disabled={disable}\n      volume={jukebox.volume}\n      playbackState={jukebox.playbackState}\n      onPlay={() => dispatch(actions.startPlaying())}\n      onStop={() => dispatch(actions.stopPlaying())}\n      onPause={() => dispatch(actions.pausePlaying())}\n      onNext={() => dispatch(actions.nextPlaying())}\n      onPrevious={() => dispatch(actions.previousPlaying())}\n      onVolumeChange={(evt) => dispatch(actions.setVolume(evt))}\n      onDrop={\n        /* istanbul ignore next */\n        (_item, monitor) => {\n          if (monitor) {\n            dispatch(actions.addNewTrack(monitor.getItem().urls[0]))\n          }\n        }\n      }\n      onTracklistClear={() => dispatch(actions.clearTrackList())}\n      onSearchClick={() => dispatch(searchActions.toggleSearchSidebar(true))}\n      tracklist={tracklist}\n      currentTrack={currentTrack}\n      onRemoveTrack={\n        /* istanbul ignore next */\n        (evt) => dispatch(actions.removeFromTracklist(evt))\n      }\n    />\n  )\n}\n\nexport default DragDropContext(HTML5Backend)(DashboardContainer)\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport Notifications from 'react-notify-toast'\nimport { useGoogleLogin } from 'react-use-googlelogin'\nimport ErrorBoundary from 'components/error-boundary'\nimport GoogleAuthContext from 'contexts/google'\nimport jukeboxMiddleware from 'containers/jukebox-middleware'\nimport jukeboxApp from 'reducers'\nimport { Container } from 'semantic-ui-react'\nimport DashboardContainer from 'containers/dashboard-container'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(jukeboxApp, composeEnhancers(applyMiddleware(jukeboxMiddleware)))\n\nconst App = () => {\n  const googleAuth = useGoogleLogin({\n    clientId: process.env.REACT_APP_CLIENT_ID,\n    hostedDomain: 'kyanmedia.com'\n  })\n\n  return (\n    <Provider store={store}>\n      <Container fluid>\n        <GoogleAuthContext.Provider value={googleAuth}>\n          <ErrorBoundary>\n            <Notifications />\n            <DashboardContainer />\n          </ErrorBoundary>\n        </GoogleAuthContext.Provider>\n      </Container>\n    </Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n","module.exports = __webpack_public_path__ + \"static/media/default-artwork.6bba9800.png\";"],"sourceRoot":""}